<link rel="import" href="../polymer/polymer.html">

<!--
Wrapper around [bezier-easing](https://github.com/gre/bezier-easing)

##### Example

    <bezier-easing x1="0" x2=".5" y1=".5" y2="1"></bezier-easing>

@element bezier-easing
@blurb Wraps bezier-easing module into a Polymer element
-->
<polymer-element name="bezier-easing">


    <script charset="utf-8">
        // Quick module wrapper to stop BezierEasing leaking to global
        (function( global ) {
            if ( !global.module && !global.require && !global.exports ) {
                var modules = [];
                global.exports = {};

                global.module = {
                    require: function( mod ) {
                        return modules;
                    }
                };
                Object.defineProperty( global.module, 'exports', {
                    set: function( mod ) {
                        modules.push( mod );
                    }
                });
            }

        })( this );
    </script>

    <script src="./bezier-easing.js"></script>
    <script charset="utf-8">

        Polymer( 'bezier-easing', {

            curve: null,

            publish: {

                x1: 0,

                x2: 0,

                y1: 1,

                y2: 1
            },

            ready: function() {
                var BezierEasing = module.require()[ 0 ];
                this.curve = BezierEasing( this.x1, this.x2, this.y1, this.y2 );
            },

            calc: function( time ) {
                return this.curve( time );
            }

        });
    </script>
